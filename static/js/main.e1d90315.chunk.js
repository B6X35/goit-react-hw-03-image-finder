(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{13:function(e,t,a){e.exports={loaderCentre:"ImageFinder_loaderCentre__2ycku","img-modal":"ImageFinder_img-modal__2u1xD",center:"ImageFinder_center__2GpUR"}},16:function(e,t,a){e.exports={"image-gallery-item":"ImageGalleryItem_image-gallery-item__2n49W","image-gallery-item-image":"ImageGalleryItem_image-gallery-item-image__3ZJsm"}},17:function(e,t,a){e.exports={overlay:"Modal_overlay__REGFx",modal:"Modal_modal__gvZpV"}},27:function(e,t,a){e.exports={App:"App_App__1YXV1"}},32:function(e,t,a){e.exports={"image-gallery":"ImageGallery_image-gallery__GPiyR"}},33:function(e,t,a){e.exports={button:"Button_button__267zz",background:"Button_background__15XlP"}},78:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),o=a(11),c=a.n(o),i=a(27),s=a.n(i),l=a(15),u=a.n(l),m=a(18),d=a(28),h=a(4),p=a(5),g=a(7),b=a(6),f=a(29),j=a.n(f).a.create({baseURL:"https://pixabay.com/api",params:{key:"24460881-0553146689c5f43d3df866ca4",image_type:"photo",orientation:"horizontal",safesearch:"true",per_page:12}}),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;return j.get("/",{params:{page:e,q:t}})},v=a(13),_=a.n(v),O=a(30),x=a.n(O),k=a(12),S=a(2),w=a.n(S),M=a(8),q=a.n(M),C=a(0),N=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={query:""},e.searchQuery=function(t){var a=t.target,r=a.name,n=a.value;e.setState(Object(k.a)({},r,n))},e.submitQuery=function(t){t.preventDefault(),e.props.onSubmit(e.state),e.setState({query:""})},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.state.query,t=this.submitQuery,a=this.searchQuery;return Object(C.jsx)("header",{className:q.a.searchbar,children:Object(C.jsxs)("form",{onSubmit:t,className:q.a["search-form"],children:[Object(C.jsx)("button",{type:"submit",className:q.a["search-form-button"],children:Object(C.jsx)("span",{className:q.a["search-form-button-label"],children:"Search"})}),Object(C.jsx)("input",{className:q.a["search-form-input"],type:"text",autoComplete:"off",name:"query",value:e,onChange:a,autoFocus:!0,placeholder:"Search images and photos"})]})})}}]),a}(r.Component),I=N;N.propType={onSubmit:w.a.func.isRequired};var L=a(31),R=a(16),F=a.n(R),Q=function(e){var t=e.webformatURL,a=e.tags,r=e.onClick;return Object(C.jsx)("li",{onClick:r,className:F.a["image-gallery-item"],children:Object(C.jsx)("img",{className:F.a["image-gallery-item-image"],src:t,alt:a})})},U=a(32),A=a.n(U),E=function(e){var t=e.items,a=e.onClick,r=t.map((function(e){return Object(C.jsx)(Q,Object(L.a)({onClick:function(){return a(e.id)}},e),e.id)}));return Object(C.jsx)("ul",{className:A.a["image-gallery"],children:r})},G=a(17),D=a.n(G),B=document.querySelector("#modal-root"),T=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).close=function(t){if("Escape"===t.code)return e.props.closeModal()},e.closeModal=function(t){t.currentTarget===t.target&&e.props.closeModal()},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.close)}},{key:"componentDidUpdate",value:function(){window.addEventListener("keydown",this.close)}},{key:"render",value:function(){var e=this.props.children,t=this.closeModal;return Object(o.createPortal)(Object(C.jsx)("div",{onClick:t,className:D.a.overlay,children:Object(C.jsx)("div",{className:D.a.modal,children:e})}),B)}}]),a}(r.Component),z=T;T.propType={closeModal:w.a.func.isRequired};var J=a(33),P=a.n(J),X=function(e){var t=e.onLoadMore;return Object(C.jsx)("button",{type:"button",onClick:t,className:P.a.button,children:"Load More"})},H=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={items:[],loading:!1,error:null,page:1,query:"",id:"",modalOpen:!1,largeImageURL:""},e.changeQuery=function(t){var a=t.query;e.setState({query:a,page:1})},e.showModal=function(t){e.setState((function(e){return{modalOpen:!0,largeImageURL:e.items.find((function(e){return e.id===t})).largeImageURL}}))},e.closeModal=function(t){e.setState({modalOpen:!1})},e.LoadMore=function(t){e.fetchQuery()},e}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this.state,r=a.query,n=a.items;t.query!==r&&r&&(this.setState({loading:!0,items:[]}),this.fetchQuery()),n.length>12&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"fetchQuery",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,a,r,n,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.page,r=t.query,e.prev=1,e.next=4,y(a,r);case 4:n=e.sent,o=n.data,this.setState((function(e){var t=e.items,a=e.page;return{items:[].concat(Object(m.a)(t),Object(m.a)(o.hits)),loading:!1,error:null,page:a+1}})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({loading:!1,error:e.t0});case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.items,a=e.query,r=e.error,n=e.loading,o=e.modalOpen,c=e.largeImageURL,i=this.changeQuery,s=this.showModal,l=this.closeModal,u=this.LoadMore,m=t.length>=12&&!n;return Object(C.jsxs)("div",{children:[o&&Object(C.jsx)(z,{closeModal:l,children:Object(C.jsx)("img",{className:_.a["img-modal"],src:c,alt:a})}),Object(C.jsx)(I,{onSubmit:i}),!r&&Object(C.jsx)(E,{onClick:s,items:t}),n&&Object(C.jsxs)("div",{className:_.a.loaderCentre,children:[Object(C.jsx)(x.a,{type:"Oval",color:"#a200ff",height:150,width:150})," "]}),m&&Object(C.jsx)("div",{className:_.a.center,children:Object(C.jsx)(X,{onLoadMore:u})})]})}}]),a}(r.Component),V=H;var W=function(){return Object(C.jsx)("div",{className:s.a.App,children:Object(C.jsx)(V,{})})};c.a.render(Object(C.jsx)(n.a.StrictMode,{children:Object(C.jsx)(W,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={searchbar:"SearchForm_searchbar__U_cSS","search-form":"SearchForm_search-form__3Qdto","search-form-button":"SearchForm_search-form-button__1gWss","search-form-button-label":"SearchForm_search-form-button-label__19X3b","search-form-input":"SearchForm_search-form-input__1BbaH"}}},[[78,1,2]]]);
//# sourceMappingURL=main.e1d90315.chunk.js.map