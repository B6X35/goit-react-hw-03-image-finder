{"version":3,"sources":["components/ImageFinder/ImageFinder.module.css","components/ImageFinder/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageFinder/Modal/Modal.module.css","styles/App.module.css","components/ImageFinder/ImageGallery/ImageGallery.module.css","components/ImageFinder/Button/Button.module.css","shared/api/api.js","components/ImageFinder/SearchForm/SearchForm.jsx","components/ImageFinder/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageFinder/ImageGallery/ImageGallery.jsx","components/ImageFinder/Modal/Modal.jsx","components/ImageFinder/Button/Button.jsx","components/ImageFinder/ImageFinder.jsx","App.js","index.js","components/ImageFinder/SearchForm/SearchForm.module.css"],"names":["module","exports","instnce","axios","create","baseURL","params","key","image_type","orientation","safesearch","per_page","ApiService","page","q","get","SearchForm","state","query","searchQuery","target","name","value","setState","submitQuery","e","preventDefault","props","onSubmit","this","className","style","searchbar","type","autoComplete","onChange","autoFocus","placeholder","Component","propType","PropTypes","func","isRequired","ImageGalleryItem","webformatURL","tags","onClick","src","alt","ImageGallery","items","elements","map","item","id","modalRoot","document","querySelector","Modal","close","code","closeModal","currentTarget","window","addEventListener","children","createPortal","overlay","modal","Button","onLoadMore","button","ImageFinder","loading","error","modalOpen","largeImageURL","changeQuery","showModal","prevState","find","LoadMore","fetchQuery","prevProps","length","scrollTo","top","documentElement","scrollHeight","behavior","a","data","hits","showBtn","loaderCentre","color","height","width","center","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e1d90315.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderCentre\":\"ImageFinder_loaderCentre__2ycku\",\"img-modal\":\"ImageFinder_img-modal__2u1xD\",\"center\":\"ImageFinder_center__2GpUR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image-gallery-item\":\"ImageGalleryItem_image-gallery-item__2n49W\",\"image-gallery-item-image\":\"ImageGalleryItem_image-gallery-item-image__3ZJsm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__REGFx\",\"modal\":\"Modal_modal__gvZpV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1YXV1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image-gallery\":\"ImageGallery_image-gallery__GPiyR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__267zz\",\"background\":\"Button_background__15XlP\"};","import axios from \"axios\";\r\n\r\nconst BASE_URL = \"https://pixabay.com/api\";\r\nconst API_KEY = \"24460881-0553146689c5f43d3df866ca4\";\r\n\r\nconst instnce = axios.create({\r\n  baseURL: BASE_URL,\r\n  params: {\r\n    key: API_KEY,\r\n    image_type: \"photo\",\r\n    orientation: \"horizontal\",\r\n    safesearch: \"true\",\r\n    per_page: 12,\r\n  },\r\n});\r\n\r\nconst getQuery = (page)=> {\r\n    return instnce.get(`/?_page=${page}`)\r\n}\r\n\r\nconst searchQuery = (page = 1, q)=> {\r\n    return instnce.get(\"/\", {\r\n        params: {\r\n            page,\r\n            q\r\n        }\r\n    })\r\n}\r\n\r\nexport const ApiService = {\r\n    getQuery,\r\n    searchQuery,\r\n}","import { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport style from './SearchForm.module.css'\r\n\r\nclass SearchForm extends Component {\r\n  state = {\r\n    query: \"\",\r\n  };\r\n\r\n  searchQuery = ({ target }) => {\r\n    const { name, value } = target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  submitQuery = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state);\r\n    this.setState({ query: \"\" });\r\n  };\r\n\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n    const {submitQuery, searchQuery} = this;\r\n    return (\r\n      <header className={style.searchbar}>\r\n        <form onSubmit={submitQuery} className={style['search-form']}>\r\n          <button type=\"submit\" className={style['search-form-button']}>\r\n            <span className={style['search-form-button-label']}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={style['search-form-input']}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            name=\"query\"\r\n            value={query}\r\n            onChange={searchQuery}\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchForm;\r\n\r\nSearchForm.propType = {\r\n  onSubmit: PropTypes.func.isRequired\r\n}","import PropTypes from \"prop-types\";\r\nimport style from './ImageGalleryItem.module.css'\r\n \r\nconst ImageGalleryItem = ({ webformatURL, tags, onClick }) => {\r\n  return (\r\n    <li onClick={onClick} className={style['image-gallery-item']}>\r\n      <img className={style['image-gallery-item-image']} src={webformatURL} alt={tags} />\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired\r\n}","import PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from './ImageGalleryItem'\r\nimport style from './ImageGallery.module.css'\r\n\r\nconst ImageGallery = ({ items, onClick }) => {\r\n  const elements = items.map((item) => (\r\n    <ImageGalleryItem onClick={() => onClick(item.id)} key={item.id} {...item} />\r\n  ));\r\n  return <ul className={style['image-gallery']}>{elements}</ul>;\r\n};\r\n\r\nexport default ImageGallery;\r\n\r\nImageGallery.propTypes = {\r\n  items: PropTypes.arrayOf(PropTypes.shape({\r\n    webformatURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string.isRequired\r\n  })),\r\n  onClick: PropTypes.func.isRequired\r\n}","import { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport style from \"./Modal.module.css\";\r\nimport PropTypes from \"prop-types\"; \r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.close);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    window.addEventListener(\"keydown\", this.close);\r\n}\r\n\r\n  close = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      return this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  closeModal = (e) => {\r\n    const { currentTarget, target } = e;\r\n    if (currentTarget === target) {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {children} = this.props;\r\n    const { closeModal } = this;\r\n    return createPortal(\r\n      <div onClick={closeModal} className={style.overlay}>\r\n        <div className={style.modal}>{children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n\r\nModal.propType = {\r\n    closeModal: PropTypes.func.isRequired\r\n}","import style from './Button.module.css'\r\nimport PropTypes from \"prop-types\"; \r\n\r\nconst Button = ({onLoadMore}) => {\r\n    return (\r\n        <button type='button' onClick={onLoadMore} className={style.button}>Load More</button>\r\n    )\r\n}\r\n\r\nexport default Button;\r\n\r\nButton.propTypes = {\r\n    onLoadMore: PropTypes.func.isRequired,\r\n}","import { Component } from \"react\";\r\nimport { ApiService } from \"../../shared/api/api\";\r\nimport style from \"./ImageFinder.module.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport SearchForm from \"./SearchForm\";\r\nimport ImageGallery from \"./ImageGallery\";\r\nimport Modal from \"./Modal\";\r\nimport Button from \"./Button\";\r\n\r\nclass ImageFinder extends Component {\r\n  state = {\r\n    items: [],\r\n    loading: false,\r\n    error: null,\r\n    page: 1,\r\n    query: \"\",\r\n    id: \"\",\r\n    modalOpen: false,\r\n    largeImageURL: \"\",\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { query, items } = this.state;\r\n    if (prevState.query !== query && query) {\r\n      this.setState({ loading: true, items: [] });\r\n      this.fetchQuery();\r\n  }\r\n  if (items.length > 12) {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    })\r\n  }}\r\n\r\n  async fetchQuery() {\r\n    const { page, query } = this.state;\r\n    try {\r\n      const { data } = await ApiService.searchQuery(page, query);\r\n      this.setState(({ items, page }) => {\r\n        return {\r\n          items: [...items, ...data.hits],\r\n          loading: false,\r\n          error: null,\r\n          page: page + 1,\r\n        };\r\n      });\r\n    } catch (error) {\r\n      this.setState({\r\n        loading: false,\r\n        error,\r\n      });\r\n    }\r\n  }\r\n\r\n  changeQuery = ({ query }) => {\r\n      this.setState({ query, page: 1, });\r\n  };\r\n\r\n  showModal = (id) => {\r\n    this.setState((prevState) => {\r\n      const { items } = prevState;\r\n      const { largeImageURL } = items.find((item) => item.id === id);\r\n      return {\r\n        modalOpen: true,\r\n        largeImageURL,\r\n      };\r\n    });\r\n  };\r\n\r\n  closeModal = (e) => {\r\n    this.setState({ modalOpen: false });\r\n  };\r\n  \r\n  LoadMore = (e) => {\r\n    this.fetchQuery();\r\n  }\r\n\r\n  render() {\r\n    const { items, query, error, loading, modalOpen, largeImageURL } = this.state;\r\n    const { changeQuery, showModal, closeModal, LoadMore } = this;\r\n    const showBtn = items.length >= 12 && !loading\r\n    return (\r\n      <div>\r\n        {modalOpen && (\r\n          <Modal closeModal={closeModal}>\r\n            <img className={style['img-modal']} src={largeImageURL} alt={query} />\r\n          </Modal>\r\n        )}\r\n        <SearchForm onSubmit={changeQuery} />\r\n        {!error && <ImageGallery onClick={showModal} items={items} />}\r\n        {loading && (\r\n          <div className={style.loaderCentre}>\r\n            <Loader type=\"Oval\" color=\"#a200ff\" height={150} width={150} />{\" \"}\r\n          </div>\r\n        )}\r\n        {showBtn && <div className={style.center}><Button onLoadMore={LoadMore} /></div>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageFinder;\r\n","import style from './styles/App.module.css';\nimport ImageFinder from './components/ImageFinder'\n\nfunction App() {\n  return (\n    <div className={style.App}>\n      <ImageFinder />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"SearchForm_searchbar__U_cSS\",\"search-form\":\"SearchForm_search-form__3Qdto\",\"search-form-button\":\"SearchForm_search-form-button__1gWss\",\"search-form-button-label\":\"SearchForm_search-form-button-label__19X3b\",\"search-form-input\":\"SearchForm_search-form-input__1BbaH\"};"],"sourceRoot":""}